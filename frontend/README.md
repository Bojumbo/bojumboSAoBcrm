# SAoB CRM Frontend

Frontend частина CRM системи SAoB, побудована на Next.js з використанням Shadcn UI та TypeScript.

## Технології

- **Next.js 15** - React фреймворк
- **TypeScript** - Типізація
- **Tailwind CSS** - Стилізація
- **Shadcn UI** - Компоненти інтерфейсу
- **React Hook Form** - Робота з формами
- **Zod** - Валідація
- **Axios** - HTTP клієнт
- **Lucide React** - Іконки

## Встановлення та запуск

### Вимоги
- Node.js 18+ 
- npm або yarn

### Встановлення залежностей
```bash
npm install
```

### Налаштування середовища
Створіть файл `.env.local` в корені frontend папки:
```env
NEXT_PUBLIC_API_URL=http://localhost:3001/api
```

### Запуск в режимі розробки
```bash
npm run dev
```

Додаток буде доступний за адресою: `http://localhost:3000`

### Збірка для продакшну
```bash
npm run build
npm start
```

## Структура проекту

```
src/
├── app/                    # Next.js App Router сторінки
│   ├── dashboard/         # Сторінка панелі управління
│   ├── projects/          # Сторінка проектів
│   ├── subprojects/       # Сторінка підпроектів
│   ├── sales/             # Сторінка продажів
│   ├── tasks/             # Сторінка завдань
│   ├── counterparties/    # Сторінка контрагентів
│   ├── warehouse/         # Сторінка складу
│   ├── products/          # Сторінка товарів
│   ├── services/          # Сторінка послуг
│   ├── settings/          # Сторінка налаштувань
│   ├── login/            # Сторінка входу
│   ├── layout.tsx        # Основний layout
│   └── page.tsx          # Головна сторінка
├── components/           # React компоненти
│   ├── ui/              # Shadcn UI компоненти
│   ├── Dashboard.tsx    # Компонент панелі управління
│   ├── LoginPage.tsx    # Компонент сторінки входу
│   ├── Sidebar.tsx      # Компонент сайдбару
│   ├── DashboardLayout.tsx # Layout для внутрішніх сторінок
│   └── PagePlaceholder.tsx # Компонент заглушки для сторінок
├── contexts/            # React контексти
│   └── AuthContext.tsx  # Контекст аутентифікації
├── lib/                 # Бібліотеки та утиліти
│   ├── api.ts          # API клієнт
│   └── utils.ts        # Допоміжні функції
├── types/              # TypeScript типи
│   └── auth.ts         # Типи для аутентифікації
└── middleware.ts       # Next.js middleware для захисту маршрутів
```

## Особливості

### Навігація
- Responsive сайдбар з можливістю згортання
- Мобільне меню з overlay
- Активний стан для поточної сторінки
- Швидка навігація між розділами

### Сторінки системи
- **Dashboard** - Головна панель з статистикою та швидкими діями
- **Проекти** - Управління проектами компанії
- **Підпроекти** - Деталізація проектів на підпроекти
- **Продажі** - Управління процесом продажів
- **Завдання** - Система завдань для команди
- **Контрагенти** - База клієнтів та партнерів
- **Склад** - Управління товарними запасами
- **Товари** - Каталог продукції
- **Послуги** - Каталог послуг
- **Налаштування** - Конфігурація системи

### Аутентифікація
- JWT токени зберігаються в localStorage та cookies
- Автоматичне перенаправлення неавторизованих користувачів
- Middleware для захисту приватних маршрутів
- Контекст React для управління станом аутентифікації

### Компоненти
- Використання Shadcn UI для консистентного дизайну
- Валідація форм за допомогою Zod
- Responsive дизайн з Tailwind CSS
- Доступність (accessibility) відповідно до стандартів

### API інтеграція
- Конфігурований Axios клієнт
- Автоматичне додавання JWT токенів до запитів
- Обробка помилок та неавторизованих запитів
- Централізоване управління API ендпоінтами

## Маршрути

- `/` - Головна сторінка (редірект на `/login` або `/dashboard`)
- `/login` - Сторінка входу
- `/dashboard` - Панель управління (захищений маршрут)
- `/projects` - Проекти (заглушка)
- `/subprojects` - Підпроекти (заглушка)
- `/sales` - Продажі (заглушка)
- `/tasks` - Завдання (заглушка)
- `/counterparties` - Контрагенти (заглушка)
- `/warehouse` - Склад (заглушка)
- `/products` - Товари (заглушка)
- `/services` - Послуги (заглушка)
- `/settings` - Налаштування (заглушка)

## Команди

```bash
# Запуск в режимі розробки
npm run dev

# Збірка проекту
npm run build

# Запуск production сервера
npm start

# Перевірка ESLint
npm run lint

# Перевірка типів TypeScript
npm run type-check
```

## Інтеграція з Backend

Frontend підключається до backend API за адресою `http://localhost:3001/api`. 

Основні ендпоінти:
- `POST /auth/login` - Вхід в систему
- `POST /auth/logout` - Вихід з системи  
- `GET /auth/me` - Отримання даних поточного користувача

## Середовище розробки

Для повної роботи системи необхідно також запустити backend сервер:

```bash
# В окремому терміналі, в папці backend
cd ../backend
npm run dev
```

Backend буде доступний за адресою: `http://localhost:3001`
